<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
  <title>æŸã®è‘‰ã‚¯ã‚¨ã‚¹ãƒˆ</title>
  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css" rel="stylesheet" />
  <link rel="stylesheet" href="main.css" />
  <style>
    #map { position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0; }
    .quiz-modal {
      display: none;
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.7);
      z-index: 3000;
      justify-content: center;
      align-items: center;
    }
    
    .quiz-content {
      width: 90%;
      max-width: 400px;
      background: #fff;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 0 32px rgba(0, 0, 0, 0.3);
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .quiz-question {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
      line-height: 1.4;
    }
    
    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }
    
    .quiz-option {
      padding: 12px 16px;
      border: 2px solid #ddd;
      border-radius: 8px;
      background: #f9f9f9;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 1em;
    }
    
    .quiz-option:hover {
      background: #f0f0f0;
      border-color: #ff6600;
    }
    
    .quiz-option.selected {
      background: #ff6600;
      color: white;
      border-color: #ff6600;
    }
    
    .quiz-option.correct {
      background: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }
    
    .quiz-option.incorrect {
      background: #f44336;
      color: white;
      border-color: #f44336;
    }
    
    .quiz-submit {
      width: 100%;
      padding: 12px;
      background: #ff6600;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 12px;
    }
    
    .quiz-submit:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    
    .quiz-result {
      text-align: center;
      font-size: 1.1em;
      font-weight: bold;
      margin-bottom: 16px;
      padding: 12px;
      border-radius: 8px;
    }
    
    .quiz-result.correct {
      background: #e8f5e8;
      color: #2e7d32;
    }
    
    .quiz-result.incorrect {
      background: #ffebee;
      color: #c62828;
    }
    
    .quiz-close {
      width: 100%;
      padding: 10px;
      background: #666;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
    }
    
    .quiz-controls {
      position: fixed;
      top: 120px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 1000;
      flex-wrap: nowrap;
      justify-content: center;
      flex-direction: row;
        }
    
    .quiz-progress {
      background: linear-gradient(135deg, #ff6600, #ff8533);
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
      color: white;
      box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
      border: 2px solid white;
      white-space: nowrap;
    }
    
    .fly-to-quiz-btn {
      background: linear-gradient(135deg, #4CAF50, #66BB6A);
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
      color: white;
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      border: 2px solid white;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
    }
    
    .fly-to-quiz-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
    }
    
    .quiz-list-btn {
      background: linear-gradient(135deg, #2196F3, #42A5F5);
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
      color: white;
      box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
      border: 2px solid white;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
    }
    
    .quiz-list-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
    }
    
    .quiz-list-modal {
      display: none;
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2500;
      justify-content: center;
      align-items: center;
    }
    
    .quiz-list-content {
      width: 90%;
      max-width: 500px;
      background: #fff;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 0 32px rgba(0, 0, 0, 0.3);
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .quiz-list-title {
      font-size: 1.3em;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
      text-align: center;
    }
    
    .quiz-list-item {
      padding: 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-bottom: 12px;
      cursor: pointer;
      transition: all 0.2s;
      background: #f9f9f9;
    }
    
    .quiz-list-item:hover {
      background: #f0f0f0;
      border-color: #2196F3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .quiz-list-item.completed {
      background: #e8f5e8;
      border-color: #4CAF50;
    }
    
    .quiz-list-item .location {
      font-weight: bold;
      color: #333;
      font-size: 1.1em;
      margin-bottom: 4px;
    }
    
    .quiz-list-item .question {
      color: #666;
      font-size: 0.9em;
      margin-bottom: 8px;
      line-height: 1.4;
    }
    
    .quiz-list-item .status {
      font-size: 0.9em;
      color: #666;
      margin-bottom: 8px;
    }
    
    .quiz-list-item.completed .status {
      color: #2e7d32;
      font-weight: bold;
    }
    
    .quiz-list-item .actions {
      display: flex;
      gap: 8px;
    }
    
    .quiz-list-item .action-btn {
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      font-size: 0.8em;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .quiz-list-item .action-btn.primary {
      background: #2196F3;
      color: white;
    }
    
    .quiz-list-item .action-btn.secondary {
      background: #4CAF50;
      color: white;
    }
    
    .quiz-list-item .action-btn:hover {
      transform: scale(1.05);
    }
    
    .quiz-marker {
      background: #ff6600;
      border: 4px solid white;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      position: relative;
      animation: pulse 2s infinite;
    }
    
    .quiz-marker::before {
      content: "?";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-weight: bold;
      font-size: 16px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }
    
    .quiz-marker.completed {
      background: #4CAF50;
      animation: none;
    }
    
    .quiz-marker.completed::before {
      content: "âœ“";
      font-size: 18px;
    }
    
    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      }
      50% {
        transform: scale(1.1);
        box-shadow: 0 6px 16px rgba(255, 102, 0, 0.6);
      }
      100% {
        transform: scale(1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      }
    }
  </style>
</head>
<body>
  <div class="site-logo"></div>
  <div class="frame"></div>
  <div id="map"></div>
  <!-- å ´æ‰€ä¸€è¦§ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="place-list-modal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:#000a; z-index:2100; justify-content:center; align-items:center;">
    <div style="width:340px; max-width:90vw; background:#fff; border-radius:12px; padding:18px 12px 12px 12px; box-shadow:0 0 24px #000a;">
      <div style="font-size:1.2em; font-weight:bold; margin-bottom:10px;">å ´æ‰€ä¸€è¦§</div>
      <ul id="place-list" style="list-style:none; padding:0; margin:0 0 10px 0; max-height:50vh; overflow:auto;"></ul>
      <button id="place-list-close-btn" style="width:100%; padding:8px; font-size:1.1em; border-radius:6px; border:none; background:#444; color:#fff;">é–‰ã˜ã‚‹</button>
    </div>
  </div>
  <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="password-modal" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:#000a; z-index:2200; justify-content:center; align-items:center;">
    <div style="width:340px; max-width:90vw; background:#fff; border-radius:16px; padding:24px 18px 18px 18px; box-shadow:0 0 32px #000a; display:flex; flex-direction:column; align-items:center;">
      <div id="password-modal-title" style="font-size:1.15em; font-weight:bold; margin-bottom:14px; color:#ff6600; text-align:center;"></div>
      <input id="password-input" type="text" inputmode="numeric" pattern="[0-9]*" maxlength="4"
        placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›"
        style="width:90%; padding:12px; font-size:1.2em; border-radius:8px; border:1.5px solid #ff6600; margin-bottom:14px; text-align:center; letter-spacing:0.2em; background:#f9f9f9; outline:none; transition:border 0.2s;">
      <div id="password-error" style="color:#c00; font-size:1em; min-height:1.5em; margin-bottom:6px; text-align:center;"></div>
      <button id="password-submit-btn" style="width:90%; padding:10px; font-size:1.1em; border-radius:8px; border:none; background:#ff6600; color:#fff; font-weight:bold; margin-bottom:8px; box-shadow:0 2px 8px #ff660033;">é€ä¿¡</button>
      <button id="password-close-btn" style="width:90%; padding:10px; font-size:1.1em; border-radius:8px; border:none; background:#bbb; color:#333; font-weight:bold;">é–‰ã˜ã‚‹</button>
    </div>
  </div>
  <nav class="bottom-nav">
    <button class="nav-btn selected" id="questBtn">
      <img src="logo.png" alt="LOGO" class="nav-logo">
      <img src="quest.png" alt="QUEST" class="nav-label">
    </button>
    <button class="nav-btn" id="cameraBtn">
      <img src="camera_logo.png" alt="CAMERA" class="nav-logo">
      <img src="camera.png" alt="CAMERA" class="nav-label">
    </button>
    <button class="nav-btn" id="minstaBtn">
      <img src="inf_logo.png" alt="MINSTA" class="nav-logo">
      <img src="minsta.png" alt="MINSTA" class="nav-label">
    </button>
  </nav>
  <!-- ã‚¯ã‚¤ã‚ºã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
  <div class="quiz-controls">
    <!-- ã‚¯ã‚¤ã‚ºé€²è¡ŒçŠ¶æ³ -->
    <div class="quiz-progress">
      <span id="quiz-progress-text">0 / 0 å®Œäº†</span>
    </div>
    
    <!-- ã‚¯ã‚¤ã‚ºåœ°ç‚¹ã«é£›ã¶ãƒœã‚¿ãƒ³ -->
    <button class="fly-to-quiz-btn" id="fly-to-quiz-btn" style="display: none;">
      ğŸ¯ ã‚¯ã‚¤ã‚ºåœ°ç‚¹ã¸
    </button>
    
    <!-- å•é¡Œä¸€è¦§ãƒœã‚¿ãƒ³ -->
    <button class="quiz-list-btn" id="quiz-list-btn" style="display: none;">
      ğŸ“‹ å•é¡Œä¸€è¦§
    </button>
  </div>
  
  <!-- ã‚¯ã‚¤ã‚ºãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="quiz-modal" class="quiz-modal">
    <div class="quiz-content">
      <div id="quiz-question" class="quiz-question"></div>
      <div id="quiz-options" class="quiz-options"></div>
      <div id="quiz-result" class="quiz-result" style="display: none;"></div>
      <button id="quiz-submit" class="quiz-submit">å›ç­”ã™ã‚‹</button>
      <button id="quiz-close" class="quiz-close">é–‰ã˜ã‚‹</button>
    </div>
  </div>
  
  <!-- å•é¡Œä¸€è¦§ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="quiz-list-modal" class="quiz-list-modal">
    <div class="quiz-list-content">
      <div class="quiz-list-title">ã¿ã‚“ãªã®å•é¡Œ</div>
      <div id="quiz-list-container"></div>
      <button id="quiz-list-close" class="quiz-close" style="margin-top: 16px;">é–‰ã˜ã‚‹</button>
    </div>
  </div>
  
  <div id="qr-reader" style="display:none; position:fixed; left:0; top:0; width:100vw; height:100vh; background:#000a; z-index:2000; justify-content:center; align-items:center;">
    <div id="qr-reader-box" style="width:320px; max-width:90vw; background:#222; border-radius:12px; padding:16px; box-shadow:0 0 24px #000a;">
      <div id="qr-reader-area" style="width:100%;"></div>
      <button id="qr-close-btn" style="margin-top:12px; width:100%; padding:8px; font-size:1.1em; border-radius:6px; border:none; background:#444; color:#fff;">é–‰ã˜ã‚‹</button>
    </div>
  </div>
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
  <script>
    // Mapboxã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆã”è‡ªèº«ã®ã‚‚ã®ã«å·®ã—æ›¿ãˆã¦ãã ã•ã„ï¼‰
    mapboxgl.accessToken = 'pk.eyJ1IjoiZ2dwbGF5ZXIiLCJhIjoiY200OXBzcmI1MGR6bzJxcTFrdDJ1MGJyNSJ9.o_VpEScSsAPdt8U8PDB58Q'; // â†ã“ã“ã‚’å·®ã—æ›¿ãˆ

    // æŸã®è‘‰ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã®ä¸­å¿ƒåº§æ¨™
    var kashiwanohaLatLng = [139.95253805847645, 35.893261289659726]; // [lng, lat]
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v12',
      center: kashiwanohaLatLng,
      zoom: 15
    });

    // ãƒãƒ¼ã‚«ãƒ¼ç®¡ç†ç”¨
    let quizMarkers = [];

    // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆæ—¢å­˜ã®ã¾ã¾ï¼‰
    let quizData = [];
    let currentQuiz = null;
    let selectedAnswer = null;
    let completedQuizzes = [];

    // Google Spreadsheetã‹ã‚‰ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
    async function loadQuizDataFromSpreadsheet() {
      try {
        // Google Spreadsheetã®IDï¼ˆURLã‹ã‚‰å–å¾—ï¼‰
        const spreadsheetId = '1AZgfYRfWLtVXH7rx7BeEPmbmdy7EfnGDbAwi6bMSNsU';
        const sheetId = '313321768'; // ã‚·ãƒ¼ãƒˆID
        
        console.log('Fetching data from spreadsheet...'); // ãƒ‡ãƒãƒƒã‚°ç”¨
        
        // Google Sheets APIã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
        const response = await fetch(`https://docs.google.com/spreadsheets/d/${spreadsheetId}/gviz/tq?tqx=out:csv&gid=${sheetId}`);
        const csvText = await response.text();
        
        console.log('Raw CSV data:', csvText.substring(0, 500)); // ãƒ‡ãƒãƒƒã‚°ç”¨
        
        // CSVã‚’ãƒ‘ãƒ¼ã‚¹
        const lines = csvText.split('\n');
        console.log('CSV lines count:', lines.length); // ãƒ‡ãƒãƒƒã‚°ç”¨
        quizData = [];
        
        for (let i = 1; i < lines.length; i++) {
          if (lines[i].trim() === '') continue;
          
          console.log('Processing line', i, ':', lines[i]); // ãƒ‡ãƒãƒƒã‚°ç”¨
          
          // CSVã®è¡Œã‚’ãƒ‘ãƒ¼ã‚¹ï¼ˆã‚«ãƒ³ãƒã§åŒºåˆ‡ã‚‹ãŒã€ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆå†…ã®ã‚«ãƒ³ãƒã¯ç„¡è¦–ï¼‰
          const values = parseCSVLine(lines[i]);
          
          console.log('Parsed values:', values); // ãƒ‡ãƒãƒƒã‚°ç”¨
          
          if (values.length >= 7) {
            // ç·¯åº¦çµŒåº¦ã‚’åˆ†å‰²ï¼ˆæ§˜ã€…ãªå½¢å¼ã«å¯¾å¿œï¼‰
            let latitude = 0;
            let longitude = 0;
            
            if (values[1]) {
              // ã‚«ãƒ³ãƒã§åŒºåˆ‡ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ
              if (values[1].includes(',')) {
                const coordinates = values[1].split(',').map(coord => coord.trim());
                latitude = parseFloat(coordinates[0]) || 0;
                longitude = parseFloat(coordinates[1]) || 0;
              } 
              // ã‚¹ãƒšãƒ¼ã‚¹ã§åŒºåˆ‡ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆ
              else if (values[1].includes(' ')) {
                const coordinates = values[1].split(' ').map(coord => coord.trim());
                latitude = parseFloat(coordinates[0]) || 0;
                longitude = parseFloat(coordinates[1]) || 0;
              }
              // å˜ä¸€ã®æ•°å€¤ã®å ´åˆï¼ˆç·¯åº¦ã¨ã—ã¦æ‰±ã†ï¼‰
              else {
                latitude = parseFloat(values[1]) || 0;
                longitude = parseFloat(values[2]) || 0; // æ¬¡ã®åˆ—ã‚’çµŒåº¦ã¨ã—ã¦ä½¿ç”¨
              }
            }
            
                          console.log('Coordinates:', values[1], '->', latitude, longitude); // ãƒ‡ãƒãƒƒã‚°ç”¨
            
            const quiz = {
              id: i,
              location: `ã‚¯ã‚¤ã‚ºåœ°ç‚¹ ${i}`, // å ´æ‰€åã‚’è‡ªå‹•ç”Ÿæˆ
              latitude: latitude,
              longitude: longitude,
              question: values[2] || '',
              options: [
                values[3] || 'é¸æŠè‚¢1',
                values[4] || 'é¸æŠè‚¢2', 
                values[5] || 'é¸æŠè‚¢3',
                values[6] || 'é¸æŠè‚¢4'
              ],
              correctAnswer: 0 // å¾Œã§è¨ˆç®—
            };
            
            // æ­£è§£ã®é¸æŠè‚¢ã‚’è‡ªå‹•åˆ¤å®š
            const correctAnswerText = values[7] || '';
            let correctIndex = -1;
            
            // å®Œå…¨ä¸€è‡´ã‚’è©¦ã™
            correctIndex = quiz.options.findIndex(option => 
              option.trim().toLowerCase() === correctAnswerText.trim().toLowerCase()
            );
            
            // å®Œå…¨ä¸€è‡´ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€éƒ¨åˆ†ä¸€è‡´ã‚’è©¦ã™
            if (correctIndex === -1) {
              correctIndex = quiz.options.findIndex(option => 
                option.trim().toLowerCase().includes(correctAnswerText.trim().toLowerCase()) ||
                correctAnswerText.trim().toLowerCase().includes(option.trim().toLowerCase())
              );
            }
            
            // ãã‚Œã§ã‚‚è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã€æ•°å­—ã®éƒ¨åˆ†ã‚’æ¯”è¼ƒï¼ˆé¸æŠè‚¢1ã€é¸æŠè‚¢2ãªã©ï¼‰
            if (correctIndex === -1) {
              const answerNumber = correctAnswerText.match(/\d+/);
              if (answerNumber) {
                const number = parseInt(answerNumber[0]);
                if (number >= 1 && number <= 4) {
                  correctIndex = number - 1; // 0-3ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¤‰æ›
                }
              }
            }
            
            quiz.correctAnswer = correctIndex >= 0 ? correctIndex : 0;
            
            console.log('Correct answer text:', correctAnswerText, '-> Index:', quiz.correctAnswer, '-> Selected option:', quiz.options[quiz.correctAnswer]); // ãƒ‡ãƒãƒƒã‚°ç”¨
            
            console.log('Created quiz:', quiz); // ãƒ‡ãƒãƒƒã‚°ç”¨
            
            // æœ‰åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã®ã¿è¿½åŠ 
            if (quiz.latitude && quiz.longitude && quiz.question) {
              quizData.push(quiz);
              console.log('Added quiz:', quiz); // ãƒ‡ãƒãƒƒã‚°ç”¨
            } else {
              console.log('Skipped invalid quiz:', quiz); // ãƒ‡ãƒãƒƒã‚°ç”¨
            }
          }
        }
        
        console.log('Loaded quiz data:', quizData); // ãƒ‡ãƒãƒƒã‚°ç”¨
        createQuizMarkers();
        updateProgress();
      } catch (error) {
        console.error('ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
        quizData = [
          {
            id: 1,
            location: "æŸã®è‘‰ã‚¢ã‚¯ã‚¢ãƒ†ãƒ©ã‚¹",
            latitude: 35.89868697,
            longitude: 139.9532173,
            question: "ã‚¢ã‚¯ã‚¢ãƒãƒªãƒ³ã®è¿‘ãã«ã„ã‚‹å‹•ç‰©ã¯ï¼Ÿ",
            options: ["ãƒ©ã‚¤ã‚ªãƒ³", "ã‹ãˆã‚‹", "ãã¾", "ãã‚Šã‚“"],
            correctAnswer: 2 // ãã¾
          },
          {
            id: 2,
            location: "KOIL by Mitsuifudosan",
            latitude: 35.8952348,
            longitude: 139.9518892,
            question: "KOILã«ã¤ã„ã¦æ­£ã—ã„ã®ã¯ï¼Ÿ",
            options: ["é¸æŠè‚¢1", "é¸æŠè‚¢2", "é¸æŠè‚¢3", "é¸æŠè‚¢4"],
            correctAnswer: 1
          },
          {
            id: 3,
            location: "ã‹ã‘ã ã—æ¨ªä¸",
            latitude: 35.89457169,
            longitude: 139.9528167,
            question: "ã‹ã‘ã ã—æ¨ªä¸ã«ã¤ã„ã¦æ­£ã—ã„ã®ã¯ï¼Ÿ",
            options: ["é¸æŠè‚¢1", "é¸æŠè‚¢2", "é¸æŠè‚¢3", "é¸æŠè‚¢4"],
            correctAnswer: 2
          }
        ];
        console.log('Using fallback quiz data:', quizData); // ãƒ‡ãƒãƒƒã‚°ç”¨
        createQuizMarkers();
        updateProgress();
      }
    }

    // CSVè¡Œã‚’ãƒ‘ãƒ¼ã‚¹ã™ã‚‹é–¢æ•°
    function parseCSVLine(line) {
      const result = [];
      let current = '';
      let inQuotes = false;
      
      for (let i = 0; i < line.length; i++) {
        const char = line[i];
        
        if (char === '"') {
          inQuotes = !inQuotes;
        } else if (char === ',' && !inQuotes) {
          result.push(current.trim());
          current = '';
        } else {
          current += char;
        }
      }
      
      result.push(current.trim());
      return result;
    }

    // ã‚¯ã‚¤ã‚ºãƒãƒ¼ã‚«ãƒ¼ã‚’Mapboxã§ä½œæˆ
    function createQuizMarkers() {
      // æ—¢å­˜ã®ãƒãƒ¼ã‚«ãƒ¼ã‚’å‰Šé™¤
      quizMarkers.forEach(m => m.remove());
      quizMarkers = [];
      quizData.forEach((quiz, index) => {
        const isCompleted = completedQuizzes.includes(quiz.id);
        // ã‚«ã‚¹ã‚¿ãƒ HTMLãƒãƒ¼ã‚«ãƒ¼
        const el = document.createElement('div');
        el.className = `quiz-marker${isCompleted ? ' completed' : ''}`;
        el.style.width = '30px';
        el.style.height = '30px';
        el.style.borderRadius = '50%';
        el.style.background = isCompleted ? '#4CAF50' : '#ff6600';
        el.style.border = '4px solid white';
        el.style.boxShadow = '0 4px 12px rgba(0,0,0,0.4)';
        el.style.position = 'relative';
        el.style.display = 'flex';
        el.style.alignItems = 'center';
        el.style.justifyContent = 'center';
        el.style.fontWeight = 'bold';
        el.style.color = 'white';
        el.style.fontSize = '18px';
        el.innerText = isCompleted ? 'âœ“' : '?';
        el.style.cursor = 'pointer';
        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å†…å®¹
        const popup = new mapboxgl.Popup({ offset: 25 })
          .setHTML(`
            <div style=\"text-align:center;min-width:200px;\">
              <div style=\"font-size:18px;font-weight:bold;color:#ff6600;margin-bottom:8px;\">ğŸ¯ ã‚¯ã‚¤ã‚º ${index + 1}</div>
              <div style=\"font-size:14px;font-weight:bold;margin-bottom:6px;\">${quiz.location}</div>
              <div style=\"font-size:12px;color:#666;margin-bottom:10px;\">${isCompleted ? 'âœ… å®Œäº†æ¸ˆã¿' : 'â“ æœªå›ç­”'}</div>
              <button onclick=\"window.showQuizFromPopup(${quiz.id})\" style=\"background:#ff6600;color:white;border:none;padding:8px 16px;border-radius:6px;font-size:12px;cursor:pointer;\">${isCompleted ? 'å†æŒ‘æˆ¦' : 'ã‚¯ã‚¤ã‚ºé–‹å§‹'}</button>
            </div>
          `);
        // ãƒãƒ¼ã‚«ãƒ¼ç”Ÿæˆ
        const marker = new mapboxgl.Marker(el)
          .setLngLat([quiz.longitude, quiz.latitude])
          .setPopup(popup)
          .addTo(map);
        el.addEventListener('click', () => {
          showQuiz(quiz);
        });
        quizMarkers.push(marker);
      });
    }

    // ã‚¯ã‚¤ã‚ºã‚’è¡¨ç¤º
    function showQuiz(quiz) {
      currentQuiz = quiz;
      selectedAnswer = null;
      
      document.getElementById('quiz-question').textContent = quiz.question;
      
      const optionsContainer = document.getElementById('quiz-options');
      optionsContainer.innerHTML = '';
      
      quiz.options.forEach((option, index) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'quiz-option';
        optionElement.textContent = `${index + 1}. ${option}`;
        optionElement.onclick = () => selectOption(index, optionElement);
        optionsContainer.appendChild(optionElement);
      });
      
      document.getElementById('quiz-result').style.display = 'none';
      document.getElementById('quiz-submit').disabled = true;
      document.getElementById('quiz-modal').style.display = 'flex';
    }

    // é¸æŠè‚¢ã‚’é¸æŠ
    function selectOption(index, element) {
      // æ—¢å­˜ã®é¸æŠã‚’ã‚¯ãƒªã‚¢
      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      // æ–°ã—ã„é¸æŠã‚’è¨­å®š
      element.classList.add('selected');
      selectedAnswer = index;
      document.getElementById('quiz-submit').disabled = false;
    }

    // ã‚¯ã‚¤ã‚ºã‚’é€ä¿¡
    function submitQuiz() {
      if (selectedAnswer === null) return;
      
      const isCorrect = selectedAnswer === currentQuiz.correctAnswer;
      const resultElement = document.getElementById('quiz-result');
      
      if (isCorrect) {
        resultElement.textContent = 'æ­£è§£ã§ã™ï¼';
        resultElement.className = 'quiz-result correct';
        
        // å®Œäº†ãƒªã‚¹ãƒˆã«è¿½åŠ 
        if (!completedQuizzes.includes(currentQuiz.id)) {
          completedQuizzes.push(currentQuiz.id);
          updateQuizMarkers();
          updateProgress();
        }
      } else {
        const correctOption = currentQuiz.options[currentQuiz.correctAnswer];
        resultElement.textContent = `ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ã¯ã€Œ${correctOption}ã€ã§ã—ãŸã€‚`;
        resultElement.className = 'quiz-result incorrect';
      }
      
      resultElement.style.display = 'block';
      document.getElementById('quiz-submit').disabled = true;
    }

    // é€²è¡ŒçŠ¶æ³ã‚’æ›´æ–°
    function updateProgress() {
      const completed = completedQuizzes.length;
      const total = quizData.length;
      document.getElementById('quiz-progress-text').textContent = `${completed} / ${total} å®Œäº†`;
    }

    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã™ã‚‹é–¢æ•°ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¨ã—ã¦å®šç¾©ï¼‰
    window.showQuizFromPopup = function(quizId) {
      const quiz = quizData.find(q => q.id === quizId);
      if (quiz) {
        showQuiz(quiz);
      }
    };

    // ã‚¯ã‚¤ã‚ºåœ°ç‚¹ã«é£›ã¶æ©Ÿèƒ½
    function flyToQuizLocation() {
      if (quizData.length > 0) {
        const incompleteQuiz = quizData.find(q => !completedQuizzes.includes(q.id));
        const targetQuiz = incompleteQuiz || quizData[0];
        map.flyTo({ center: [targetQuiz.longitude, targetQuiz.latitude], zoom: 18 });
        // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‹ã
        const marker = quizMarkers.find(m => {
          const lngLat = m.getLngLat();
          return lngLat.lat === targetQuiz.latitude && lngLat.lng === targetQuiz.longitude;
        });
        if (marker) marker.togglePopup();
      } else {
        alert('ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
      }
    }

    // å•é¡Œä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½
    function showQuizList() {
      console.log('showQuizList called'); // ãƒ‡ãƒãƒƒã‚°ç”¨
      console.log('quizData:', quizData); // ãƒ‡ãƒãƒƒã‚°ç”¨
      
      const container = document.getElementById('quiz-list-container');
      if (!container) {
        console.error('quiz-list-container not found'); // ãƒ‡ãƒãƒƒã‚°ç”¨
        return;
      }
      
      container.innerHTML = '';
      
      if (quizData.length === 0) {
        container.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“</div>';
        document.getElementById('quiz-list-modal').style.display = 'flex';
        return;
      }
      
      quizData.forEach((quiz, index) => {
        const isCompleted = completedQuizzes.includes(quiz.id);
        const item = document.createElement('div');
        item.className = `quiz-list-item ${isCompleted ? 'completed' : ''}`;
        
        item.innerHTML = `
          <div class="location">${quiz.location}</div>
          <div class="question">${quiz.question}</div>
          <div class="status">${isCompleted ? 'âœ… å®Œäº†æ¸ˆã¿' : 'â“ æœªå›ç­”'}</div>
          <div class="actions">
            <button class="action-btn primary" onclick="flyToQuizFromList(${quiz.id})">
              ğŸ—ºï¸ åœ°å›³ã§è¦‹ã‚‹
            </button>
            <button class="action-btn secondary" onclick="startQuizFromList(${quiz.id})">
              ${isCompleted ? 'ğŸ”„ å†æŒ‘æˆ¦' : 'ğŸ¯ ã‚¯ã‚¤ã‚ºé–‹å§‹'}
            </button>
          </div>
        `;
        
        container.appendChild(item);
      });
      
      document.getElementById('quiz-list-modal').style.display = 'flex';
      console.log('Quiz list modal displayed'); // ãƒ‡ãƒãƒƒã‚°ç”¨
    }

    // å•é¡Œä¸€è¦§ã‹ã‚‰åœ°å›³ã«ç§»å‹•
    window.flyToQuizFromList = function(quizId) {
      const quiz = quizData.find(q => q.id === quizId);
      if (quiz) {
        // åœ°å›³ã‚’ã‚¯ã‚¤ã‚ºåœ°ç‚¹ã«ç§»å‹•
        map.flyTo({ center: [quiz.longitude, quiz.latitude], zoom: 18 });
        
        // è©²å½“ã™ã‚‹ãƒãƒ¼ã‚«ãƒ¼ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        const marker = quizMarkers.find(m => {
          const lngLat = m.getLngLat();
          return lngLat.lat === quiz.latitude && lngLat.lng === quiz.longitude;
        });
        
        if (marker) {
          marker.togglePopup();
        }
        
        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        document.getElementById('quiz-list-modal').style.display = 'none';
      }
    };

    // å•é¡Œä¸€è¦§ã‹ã‚‰ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹
    window.startQuizFromList = function(quizId) {
      const quiz = quizData.find(q => q.id === quizId);
      if (quiz) {
        showQuiz(quiz);
        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        document.getElementById('quiz-list-modal').style.display = 'none';
      }
    };

    // --- basyo.geojsonã‹ã‚‰åŠå¾„50mã®å††ã‚’è¡¨ç¤ºã—ã€ã‚¿ãƒƒãƒ—/ã‚¯ãƒªãƒƒã‚¯ã§åå‰è¡¨ç¤º ---
    // èµ¤ã„å††ã®ä¸­å¿ƒåº§æ¨™ã¨åå‰ã‚’æ ¼ç´
    const redCircleCenters = [];
    const redCircleNames = [];
    const redCircleObjs = [];
    fetch('basyo.geojson')
      .then(res => res.json())
      .then(geojson => {
        geojson.features.forEach(f => {
          const [lng, lat] = f.geometry.coordinates;
          const name = f.properties.location;
          // èµ¤ã„å††
          const circle = new mapboxgl.Circle(
            {
              center: [lat, lng],
              radius: 50,
              color: '#ff6600',
              fillColor: '#ff6600',
              fillOpacity: 0.25
            }
          );
          // ã‚¿ãƒƒãƒ—/ã‚¯ãƒªãƒƒã‚¯ã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤º
          circle.on('click', function(e) {
            circle.bindPopup(name).openPopup();
          });
          // ä¸€è¦§ç”¨ã«ä¿å­˜
          redCircleCenters.push([lat, lng]);
          redCircleNames.push(name);
          redCircleObjs.push(circle);
        });
      });

    // ã‚¹ãƒãƒ›ã§ã®ãƒ”ãƒ³ãƒã‚ºãƒ¼ãƒ ã‚„ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’Leafletã«å§”ã­ã‚‹
    // Mapbox GL JSã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨ãƒ”ãƒ³ãƒã‚ºãƒ¼ãƒ ãŒæœ‰åŠ¹ã«ãªã‚‹ãŸã‚ã€ã“ã‚Œã‚‰ã®è¨­å®šã¯ä¸è¦ã€‚
    // ãŸã ã—ã€ãƒ‡ãƒãƒƒã‚°ç›®çš„ã§ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šã‚‚å¯èƒ½ã€‚
    // map.scrollZoom.enable(); // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚ºãƒ¼ãƒ ã‚’æœ‰åŠ¹ã«ã™ã‚‹
    // map.dragPan.enable(); // ãƒ‰ãƒ©ãƒƒã‚°ãƒ‘ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹
    // map.touchZoomRotate.enable(); // ã‚¿ãƒƒãƒã‚ºãƒ¼ãƒ ã¨ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹

    // QRã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ã®èµ·å‹•ã‚’çœŸã‚“ä¸­ã®ãƒœã‚¿ãƒ³ï¼ˆcameraBtnï¼‰ã«ç§»å‹•
    document.getElementById('cameraBtn').addEventListener('click', function() {
      document.getElementById('qr-reader').style.display = 'flex';
      if (!window.html5QrCode) {
        window.html5QrCode = new Html5Qrcode("qr-reader-area");
      }
      window.html5QrCode.start(
        { facingMode: "environment" },
        { fps: 10, qrbox: 250 },
        qrCodeMessage => {
          if (/^https?:\/\//.test(qrCodeMessage)) {
            window.location.replace(qrCodeMessage);
          } else {
            alert('QRã‚³ãƒ¼ãƒ‰å†…å®¹: ' + qrCodeMessage);
          }
          window.html5QrCode.stop();
          document.getElementById('qr-reader').style.display = 'none';
        },
        errorMessage => {
          // èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–
        }
      );
    });
    document.getElementById('qr-close-btn').addEventListener('click', function() {
      document.getElementById('qr-reader').style.display = 'none';
      if (window.html5QrCode) window.html5QrCode.stop();
    });
    document.getElementById('minstaBtn').addEventListener('click', function() {
      window.location.href = 'https://kashiwa-no-ha.liqlid.jp/';
    });
    // questBtnã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ã‚¯ã‚¤ã‚ºä¸€è¦§è¡¨ç¤ºã«å¤‰æ›´
    document.getElementById('questBtn').addEventListener('click', function() {
      console.log('Quest button clicked'); // ãƒ‡ãƒãƒƒã‚°ç”¨
      console.log('Quiz data length:', quizData.length); // ãƒ‡ãƒãƒƒã‚°ç”¨
      // ã‚¯ã‚¤ã‚ºä¸€è¦§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
      showQuizList();
    });

    // ã‚¯ã‚¤ã‚ºé–¢é€£ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
    document.getElementById('quiz-submit').addEventListener('click', submitQuiz);
    document.getElementById('quiz-close').addEventListener('click', () => {
      document.getElementById('quiz-modal').style.display = 'none';
    });
    
    // ã‚¯ã‚¤ã‚ºåœ°ç‚¹ã«é£›ã¶ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('fly-to-quiz-btn').addEventListener('click', flyToQuizLocation);
    
    // å•é¡Œä¸€è¦§ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('quiz-list-btn').addEventListener('click', showQuizList);
    
    // å•é¡Œä¸€è¦§ãƒ¢ãƒ¼ãƒ€ãƒ«ã®é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³
    document.getElementById('quiz-list-close').addEventListener('click', () => {
      document.getElementById('quiz-list-modal').style.display = 'none';
    });

    // å ´æ‰€ã”ã¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨URLï¼ˆ2ä»¶ç›®ã®ãƒªãƒ³ã‚¯ã‚’å¤‰æ›´ï¼‰
    const questPasswords = [
      { password: "4839", url: "https://docs.google.com/forms/d/1dnLrmWnCL-qrS5YQyDsj8H1HjyIOi5PkCixRHhZp3eo/edit" },
      { password: "0839", url: "https://docs.google.com/forms/d/e/1FAIpQLSeyvkMwULSp_LAL1aDudcQoPln7QkTs2IP7G7tCXWozmit7rQ/viewform?usp=dialog" },
      { password: "3300", url: "https://docs.google.com/forms/d/e/1FAIpQLSc-YNWR_Dtgk8lx4FHqRPc5RSzk1HCq4MiUkZJRcXks4tXn4w/viewform?usp=dialog" }
      // ...ä»¥é™ã‚‚å ´æ‰€æ•°ã«åˆã‚ã›ã¦è¿½åŠ ...
    ];

    // å ´æ‰€ä¸€è¦§ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤ºãƒ»æ“ä½œ
    function showPlaceListModal() {
      const modal = document.getElementById('place-list-modal');
      const list = document.getElementById('place-list');
      list.innerHTML = '';
      redCircleNames.forEach((name, idx) => {
        const li = document.createElement('li');
        li.style.padding = '8px 0';
        li.style.borderBottom = '1px solid #eee';
        li.style.cursor = 'pointer';
        li.innerHTML = `<span style="font-weight:bold; color:#ff6600;">QUEST</span> ${name}`;
        li.addEventListener('click', () => {
          modal.style.display = 'none';
          showPasswordModal(idx, name);
        });
        list.appendChild(li);
      });
      modal.style.display = 'flex';
    }

    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¡¨ç¤ºãƒ»æ“ä½œ
    function showPasswordModal(idx, name) {
      const modal = document.getElementById('password-modal');
      document.getElementById('password-modal-title').textContent = `${name} ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›`;
      document.getElementById('password-input').value = '';
      document.getElementById('password-error').textContent = '';
      modal.style.display = 'flex';

      // é€ä¿¡ãƒœã‚¿ãƒ³
      document.getElementById('password-submit-btn').onclick = function() {
        let input = document.getElementById('password-input').value;
        input = input.slice(0, 4); // 4æ¡ã«åˆ¶é™
        const quest = questPasswords[idx];
        if (quest && input === quest.password) {
          window.open(quest.url, '_blank');
        } else {
          document.getElementById('password-error').textContent = 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™';
        }
      };
      // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³
      document.getElementById('password-close-btn').onclick = function() {
        modal.style.display = 'none';
      };
    }
    document.getElementById('place-list-close-btn').addEventListener('click', function() {
      document.getElementById('place-list-modal').style.display = 'none';
    });

    // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
    loadQuizDataFromSpreadsheet().then(() => {
      console.log('Quiz data loading completed. Total quizzes:', quizData.length);
      // ãƒœã‚¿ãƒ³ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ¶å¾¡
      const flyButton = document.getElementById('fly-to-quiz-btn');
      const listButton = document.getElementById('quiz-list-btn');
      if (quizData.length > 0) {
        flyButton.style.display = 'block';
        listButton.style.display = 'block';
      } else {
        flyButton.style.display = 'none';
        listButton.style.display = 'none';
      }
    }).catch(error => {
      console.error('Failed to load quiz data:', error);
      // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã§ã‚‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
      if (quizData.length === 0) {
        console.log('Using fallback data due to error');
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºå®Ÿã«è¨­å®š
        quizData = [
          {
            id: 1,
            location: "æŸã®è‘‰ã‚¢ã‚¯ã‚¢ãƒ†ãƒ©ã‚¹",
            latitude: 35.89868697,
            longitude: 139.9532173,
            question: "ã‚¢ã‚¯ã‚¢ãƒãƒªãƒ³ã®è¿‘ãã«ã„ã‚‹å‹•ç‰©ã¯ï¼Ÿ",
            options: ["ãƒ©ã‚¤ã‚ªãƒ³", "ã‹ãˆã‚‹", "ãã¾", "ãã‚Šã‚“"],
            correctAnswer: 2
          }
        ];
        createQuizMarkers();
        updateProgress();
      }
    });
  </script>
</body>
</html>
